<section class="product-edit mt-5">
    <div class="container ">
        <div class="row">
            <mat-card class="col-lg-8">
                <form #productForm="ngForm" (ngSubmit)="onSubmit(productForm.valid && productForm.value)">
                    <div class="form-row">

                        <mat-form-field appearance="outline" class="col-md-6">
                            <mat-label>Product Name</mat-label>
                            <input matInput [ngClass]="{'is-invalid': name.invalid && (name.dirty || name.touched)}"
                                required type="text" id="name" placeholder="Product Name" name="name" #name="ngModel"
                                [(ngModel)]="product.name">
                            <mat-hint class="text-danger" *ngIf="name.invalid && (name.dirty || name.touched)">Product
                                Name is required
                            </mat-hint>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="col-md-6">
                            <mat-label>Price</mat-label>
                            <input matInput [ngClass]="{'is-invalid': price.invalid && (price.dirty || price.touched)}"
                                required type="text" id="price" placeholder="Price" currencyMask name="price"
                                #price="ngModel" pattern="^\$?([0-9]{1,3},([0-9]{3},)*[0-9]{3}|[0-9]+)(\.[0-9][0-9])?$"
                                min="0.01" [ngModel]="+product.price | number: '1.2-2'"
                                (ngModelChange)="updatePrice(+$event)">
                            <mat-hint class="text-danger" *ngIf="price.invalid && (price.dirty || price.touched)">Price
                                is required
                            </mat-hint>
                        </mat-form-field>
                    </div>
                    <div class="form-row">
                        <mat-form-field appearance="outline" class="col-md-12">
                            <mat-label>Description</mat-label>
                            <textarea matInput
                                [ngClass]="{'is-invalid': description.invalid && (description.dirty || description.touched)}"
                                required #description="ngModel" id="description" [(ngModel)]="product.description"
                                name="description" rows="3"></textarea>
                            <mat-hint class="text-danger"
                                *ngIf="description.invalid && (description.dirty || description.touched)">Description is
                                required
                            </mat-hint>
                        </mat-form-field>
                    </div>
                    <div class="form-row">
                        <mat-form-field appearance="outline" class="col-md-6">
                            <mat-label>Brand</mat-label>
                            <mat-select [(ngModel)]="product.productBrandId" name="productBrandId">
                                <mat-option *ngFor="let brand of brands" [value]="brand.id">
                                    {{brand.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field appearance="outline" class="col-md-6">
                            <mat-label>Type</mat-label>
                            <mat-select [(ngModel)]="product.productTypeId" name="productTypeId">
                                <mat-option *ngFor="let type of types" [value]="type.id">
                                    {{type.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <button [disabled]="!productForm.valid" type="submit"
                        class="btn btn-primary my-3 float-right">Submit</button>
                </form>
            </mat-card>
        </div>
    </div>
</section>